# 기초 문제 (15개) \*필수

## 1. In-memory Database의 주요 특징 중 하나는 무엇인가요?

### **B**

a) 디스크에 데이터를 저장

b) 메인 메모리에 데이터를 저장

c) 네트워크 기반 저장소

d) 데이터의 영속성을 보장하지 않음

## 2. Memcached는 주로 어떤 용도로 사용되나요?

### C

a) 데이터 분석

b) 트랜잭션 관리

c) 캐싱

d) 데이터 백업

## 3. Redis에서 가장 기본적인 데이터 타입은 무엇인가요?

### C

a) List

b) Set

c) String

d) Hash

## 4. In-memory Database와 전통적인 디스크 기반 DB의 주요 차이점은 무엇인가요?

### C

a) In-memory DB는 영구성을 보장함 X

b) 디스크 기반 DB는 메모리 사용이 더 빠름 X

c) In-memory DB는 데이터 접근 속도가 더 빠름 O

d) 디스크 기반 DB는 메모리를 사용하지 않음 X

## 5. Redis의 Pub/Sub 기능은 무엇을 가능하게 하나요?

### B

a) 데이터 영속화

b) 실시간 메시지 발행과 구독 O

c) 트랜잭션 관리

d) 데이터 압축 X

## 6. Memcached의 기본 포트 번호는 무엇인가요?

## B

a) 6379

b) 11211

c) 8080

d) 27017

## 7. Redis에서 데이터를 자동으로 삭제하도록 설정하는 명령어는 무엇인가요?

## B

a) DEL

b) EXPIRE

c) PERSIST

d) FLUSHALL

## 8. Memcached에서 캐시된 데이터를 제거하는 기본 알고리즘은 무엇인가요?

## D

a) FIFO

b) LIFO

c) LFU

d) LRU

## 9. Redis에서 리스트(List) 데이터 타입을 사용할 때 데이터를 추가하는 명령어는 무엇인가요?

## B

a) SADD

b) LPUSH

c) HSET

d) ZADD

## 10. In-memory Database를 사용하는 주요 이유는 무엇인가요?

## B

a) 데이터의 영구 저장

b) 높은 데이터 접근 속도

c) 낮은 메모리 사용

d) 복잡한 쿼리 지원

## 11. Redis에서 해시(Hash) 데이터 타입을 사용하는 주요 목적은 무엇인가요?

## C

a) 단순한 키-값 저장

b) 순서가 있는 데이터 저장

c) 객체의 속성을 저장

d) 중복 없는 데이터 저장

## 12. Memcached와 Redis의 주요 공통점은 무엇인가요?

## C

a) 데이터 영속성 제공

b) 다양한 데이터 구조 지원

c) 메모리 기반 캐싱 O

d) 내장된 보안 기능

## 13. Redis에서 트랜잭션을 시작하는 명령어는 무엇인가요?

## C

a) BEGIN

b) START

c) MULTI

d) TRANSACTION

## 14. In-memory Database가 캐싱 레이어로 사용될 때의 주요 장점은 무엇인가요?

## B

a) 데이터의 영속성 보장

b) 데이터베이스 부하 감소 O

c) 복잡한 쿼리 지원

d) 데이터의 무결성 유지

## 15. Redis에서 sorted set의 주요 특징은 무엇인가요?

## C

a) 중복된 멤버를 허용 X

b) 자동으로 정렬되지 않음 X 정렬 됨

c) 각 멤버에 점수를 부여하여 정렬 O

d) 단일 필드만 저장 가능

---

# 중간 단계 문제 (10개)

## 1. Redis에서 데이터의 만료 시간을 확인하는 명령어는 무엇인가요?

## A

a) TTL

b) EXPIRE

c) PTTL

d) TIMELEFT

## 2. Memcached에서 서버의 현재 상태와 성능 지표를 확인하는 명령어는 무엇인가요?

## B

a) STATUS

b) STATS

c) INFO

d) MONITOR

## 3. Memcached에서 클라이언트가 데이터를 설정할 때 만료 시간을 초 단위로 설정할 수 있는데, 이를 설정하는 옵션은 무엇인가요?

## 밑에 보기에 정답이 없음 expiration

찾아 보니

```jsx
// 데이터 설정
const key = "my_key";
const value = "my_value";
const expiration = 300; // 만료시간

// 데이터 설정
set(key, value, expiration);
// 이런식으로 사용된다고 나와있습니다!
```

a) -e

b) -t 스레드 수

c) -m 메모리 용량 설정

d) -l 로그 레벨 설정

## 4. Redis에서 데이터를 직렬화(Serialization)하는 이유는 무엇인가요?

## C

a) 데이터 압축

b) 데이터 구조 단순화

c) 네트워크 전송을 용이하게 하기 위해

d) 데이터 보안을 강화하기 위해

## 5. Memcached와 Redis의 주요 차이점 중 하나는 무엇인가요?

## B

a) Memcached는 다양한 데이터 구조를 지원 X 키-값만 지원

b) Redis는 데이터 영속성을 지원 O

c) Memcached는 트랜잭션을 지원 Redis

d) Redis는 단순한 키-값 저장소만 제공 memcached

## 6. Memcached에서 일관된 해싱(consistent hashing)의 주요 장점은 무엇인가요?

## B

a) 데이터의 무결성 보장

b) 서버 추가/제거 시 데이터 재배치 최소화

c) 데이터 압축

d) 데이터 영속성 보장

## 7. Memcached를 클러스터로 구성할 때 사용하는 일반적인 클라이언트 라이브러리는 무엇인가요?

## a는 java환경이고 b는 node.js환경이라서 정답이 b인건가요??

a) spymemcached

b) node-memcached

c) pymemcache

d) memcached-tool

spymemcached: Java 환경에서 Memcached 클러스터를 지원하는 클라이언트 라이브러리 일관된 해싱을 통해 클러스터 환경에서 데이터를 효율적으로 분산 저장

node-memcached: Node.js 환경에서 사용하는 Memcached 클라이언트 라이브러리로, 클러스터 지원이 있지만 주로 단일 서버 환경 사용

pymemcache: Python 환경에서 사용하는 Memcached 클라이언트 라이브러리로, 클러스터 지원은 있지만, 일관된 해싱을 기본적으로 제공안함

memcached-tool: Memcached 서버의 상태를 모니터링하고 관리하는 도구로, 클러스터 구성과는 직접적인 관련 없음

---

# 매우 어려운 문제 (5개)

## 1. Redis Cluster에서 데이터 샤딩 시 사용되는 슬롯의 총 개수는 얼마인가요?

## B

a) 1024

b) 4096

c) 8192

d) 16384

## 2. Memcached의 LRU 알고리즘에서 "LRU Cycle"이 발생할 때의 원인은 무엇이며, 이를 방지하기 위한 방법은 무엇인가요?

### 원인

데이터 접근 패턴

특정 데이터에 대한 접근이 빈번하고, 그 외의 데이터는 거의 사용되지 않을 때, 캐시가 해당 데이터로 가득 차게 되어 새로운 데이터가 추가될 공간이 줄어듬 이로 인해 자주 사용되는 데이터만 남고, 덜 사용되는 데이터가 삭제되는 사이클이 발생

메모리 부족

메모리 용량이 제한되어 있을 때, 자주 사용되는 데이터가 메모리 안에서 계속 교체되면서 LRU 알고리즘이 비효율적으로 작동할 수 있음

### 방지방법

1. 메모리 용량 증가: 캐시 서버의 메모리 용량을 늘려서 더 많은 데이터를 저장할 수 있도록 함, 이렇게 하면 자주 사용되는 데이터가 메모리에서 제거되는 빈도를 줄일 수 있음
2. 데이터 접근 패턴 분석: 데이터 접근 패턴을 분석하여 자주 사용되지 않는 데이터를 식별하고, 필요 없는 데이터를 미리 제거하거나 캐시에서 제외하는 정책을 도입
3. TTL(Time-to-Live) 설정: 각 데이터 항목에 TTL을 설정하여 일정 시간이 지나면 자동으로 삭제되도록 하여 오래된 데이터가 캐시를 차지하지 않도록 함
4. 캐시 전략 조정: LRU 외에도 LFU(Least Frequently Used)와 같은 다른 캐시 관리 전략을 도입하여 데이터의 사용 빈도에 따라 보다 효율적으로 캐시를 관리할 수 있음

## 3. Redis에서 AOF(Append Only File) 방식과 RDB(Redis Database) 방식의 주요 차이점은 무엇이며, 각 방식의 장단점은 무엇인가요?

**정답**

**차이점**

- **AOF (Append Only File):** 모든 쓰기 명령어를 로그 파일에 순차적으로 기록하여 데이터 영속성을 보장합니다.
- **RDB (Redis Database):** 특정 시점의 데이터를 스냅샷 형태로 디스크에 저장합니다.

**장점 및 단점**

- **AOF**
  - **장점:** 더 높은 데이터 영속성 보장, 재시작 시 더 정확한 데이터 복구 가능.
  - **단점:** RDB보다 디스크 공간을 더 많이 사용하고, 복구 시간이 더 오래 걸림.
- **RDB**
  - **장점:** 디스크 공간 절약, 빠른 데이터 복구.
  - **단점:** 특정 시점 이후의 데이터는 복구되지 않음, 데이터 영속성 보장이 상대적으로 낮음.

## 4. Redis Sentinel과 Redis Cluster의 주요 차이점은 무엇인가요? 각 시스템이 제공하는 기능은 어떻게 다른가요?

**Redis Sentinel**

- **주요 기능:** 고가용성 제공, 마스터 노드의 장애 감지 및 자동 페일오버, 클러스터 구성 관리.
- **사용 목적:** Redis 인스턴스의 장애 시 자동으로 슬레이브 노드를 마스터로 승격시켜 서비스 중단을 최소화.

**Redis Cluster**

- **주요 기능:** 데이터 샤딩(Sharding), 수평적 확장성 제공, 복제 및 고가용성 지원.
- **사용 목적:** 대규모 데이터 세트를 여러 노드에 분산 저장하여 확장성과 성능을 향상시키고, 장애 시 데이터 복구를 지원.

**차이점**

- **Sentinel:** 주로 고가용성을 위한 장애 조치 및 모니터링에 중점을 둠.
- **Cluster:** 데이터의 분산 저장과 수평적 확장성을 제공하며, Sentinel의 일부 기능을 내장.

## 5. Memcached와 Redis를 사용하여 고가용성 아키텍처를 설계할 때 고려해야 할 주요 요소는 무엇인가요? 구체적인 설계 방안을 제시해주세요.

### Memcached와 Redis를 사용하여 고가용성 아키텍처를 설계할 때 고려해야 할 주요 요소

1. 데이터 영속성

Redis는 데이터 영속성을 지원하지만 Memcached는 지원하지 않음

Redis의 RDB 스냅샷 또는 AOF(Append Only File) 모드를 활용하여 데이터를 디스크에 저장할 수 있음

1. 클러스터링

Redis는 클러스터 모드를 지원하여 데이터를 여러 노드에 분산 저장할 수 있음

Memcached는 기본적으로 클러스터링을 지원하지 않지만, 여러 인스턴스를 운영하여 수평 확장을 할 수 있음

1. 장애 조치(Failover)

Redis Sentinel을 사용하여 마스터-슬레이브 구조를 설정하고, 장애 발생 시 자동으로 마스터를 전환할 수 있음 Memcached는 기본적으로 장애 조치 기능이 없으므로, 애플리케이션 레벨에서 장애 조치를 구현해야 함

1. 부하 분산

Redis 클러스터를 사용하면 데이터가 여러 노드에 분산되어 부하를 분산할 수 있음

Memcached는 클라이언트 측에서 키 해싱을 통해 부하를 분산할 수 있음

1. 모니터링 및 관리:

Redis는 다양한 모니터링 도구를 제공하며, Redis Insight와 같은 GUI 도구를 통해 성능을 모니터링할 수 있음

Memcached도 memcached-tool과 같은 도구를 통해 상태를 확인할 수 있음

### 구체적인 설계 방안

1. Redis 구성

Redis 클러스터를 설정하여 데이터 샤딩을 구현함
Redis Sentinel을 사용하여 마스터-슬레이브 구조를 설정하고, 장애 발생 시 자동으로 마스터를 전환흠

1. Memcached 구성

여러 Memcached 인스턴스를 운영하여 수평 확장을 구현함
클라이언트에서 키 해싱을 통해 Memcached 인스턴스에 요청을 분산함

1. 애플리케이션 레벨 장애 조치

Memcached의 경우, 애플리케이션에서 인스턴스의 상태를 모니터링하고, 장애 발생 시 다른 인스턴스로 요청을 전환하는 로직을 구현

1. 모니터링 및 알림 시스템

Redis와 Memcached의 상태를 모니터링하는 시스템을 구축하고, 성능 저하나 장애 발생 시 알림을 받을 수 있도록 설정
